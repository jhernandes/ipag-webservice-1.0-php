{
  "name": "Integração iPag Webservice PHP 1.0",
  "tagline": "Pacote de integração para o iPag webservice 1.0 em PHP",
  "body": "# Webservice 1.0 PHP\r\n\r\nIntegração em PHP com o Webservice iPag 1.0\r\n\r\n## Dependências\r\n* PHP >= 5.3.*\r\n\r\n## Instalação\r\n\r\nSe já possui um arquivo `composer.json`, basta adicionar a seguinte dependência ao seu projeto:\r\n\r\n```json\r\n\"require\": {\r\n    \"jhernandes/ipag-webservice-1.0-php\":\"dev-master\"\r\n}\r\n```\r\n\r\nCom a dependência adicionada ao `composer.json`, basta executar:\r\n\r\n```\r\ncomposer install\r\n```\r\n\r\nAlternativamente, você pode executar diretamente em seu terminal:\r\n\r\n```\r\ncomposer require \"jhernandes/ipag-webservice-1.0-php:dev-master\"\r\n```\r\n\r\n## EXEMPLO DE TRANSAÇÃO COM CARTÃO (Payment Request)\r\n\r\n```php\r\n<?php\r\n\r\nrequire 'vendor/autoload.php';\r\n\r\nuse Ipag\\Ipag;\r\nuse Ipag\\Order;\r\nuse Ipag\\Payment;\r\nuse Ipag\\Transaction;\r\n\r\n$ipag = new Ipag('seu_id_ipag', Ipag::TEST);\r\n\r\n$order =    $ipag->order(Order::OPERATION_PAYMENT, 'http://minhaurl.dev','20161109003', '1.00', '1');\r\n$card =     $ipag->card('4556657802832607', 'SENHOR TESTE', '10', '21', '123');\r\n$payment =  $ipag->payment(Payment::CREDIT_VISA, $card);\r\n$customer = $ipag->customer('SENHOR TESTE', 'senhor@teste.com.br', '12312312333','1839161627');\r\n$address =  $ipag->address('Rua Teste', '123', 'Bairro Teste', '', '20000-000', 'São Paulo', 'SP', 'BR');\r\n$customer->setAddress($address);\r\n\r\n$tx = $ipag->transaction($order, $payment, $customer);\r\n\r\n$response = $ipag->paymentRequest($tx);\r\n\r\nif (!$response->hasError()) {\r\n    var_dump(print_r($response, true));\r\n    exit;\r\n}\r\necho $response->getErrorMessage();\r\nexit;\r\n```\r\n\r\n## EXEMPLO DE TRANSAÇÃO COM BOLETO (Payment Request)\r\n\r\n```php\r\n<?php\r\n\r\nrequire 'vendor/autoload.php';\r\n\r\nuse Ipag\\Ipag;\r\nuse Ipag\\Order;\r\nuse Ipag\\Payment;\r\nuse Ipag\\Transaction;\r\n\r\n$ipag = new Ipag('seu_id_ipag', Ipag::TEST);\r\n\r\n$order =    $ipag->order(Order::OPERATION_PAYMENT, 'http://minhaurl.dev','20161109003', '1.00', '1');\r\n\r\n$payment =  $ipag->payment(Payment::BANKSLIP_BB);\r\n$customer = $ipag->customer('SENHOR TESTE', 'senhor@teste.com.br', '12312312333','1839161627');\r\n$address =  $ipag->address('Rua Teste', '123', 'Bairro Teste', '', '20000-000', 'São Paulo', 'SP', 'BR');\r\n$customer->setAddress($address);\r\n\r\n$tx = $ipag->transaction($order, $payment, $customer);\r\n\r\n$response = $ipag->paymentRequest($tx);\r\n\r\nif (!$response->hasError()) {\r\n    var_dump(print_r($response, true));\r\n    exit;\r\n}\r\necho $response->getErrorMessage();\r\nexit;\r\n```\r\n\r\n*Caso tenha sucesso o link para o boleto estará em $response->getUrlAuthentication();*\r\n\r\n## EXEMPLO DE CONSULTA DE TRANSAÇÃO (Consult Request)\r\n\r\n```php\r\n<?php\r\n\r\nrequire 'vendor/autoload.php';\r\n\r\nuse Ipag\\Ipag;\r\nuse Ipag\\Order;\r\nuse Ipag\\Payment;\r\nuse Ipag\\Transaction;\r\n\r\n$ipag = new Ipag('seu_id_ipag', Ipag::TEST);\r\n\r\n$order = $ipag->order(Order::OPERATION_CONSULT, 'http://minhaurl.dev');\r\n//Caso não tenha o TID e tenha o OrderId (Número do pedido)\r\n// $order = $ipag->order(Order::OPERATION_CONSULT, 'http://minhaurl.dev', '20161109003');\r\n\r\n$tx = $ipag->transaction($order);\r\n$tx->setTid('100699306900087B7BDA');\r\n\r\n$response = $ipag->consultRequest($tx);\r\n\r\nif (!$response->hasError()) {\r\n    var_dump(print_r($response, true));\r\n    exit;\r\n}\r\necho $response->getErrorMessage();\r\nexit;\r\n```\r\n\r\n## EXEMPLO DE CAPTURA DE TRANSAÇÃO (Capture Request)\r\n\r\n```php\r\n<?php\r\n\r\nrequire 'vendor/autoload.php';\r\n\r\nuse Ipag\\Ipag;\r\nuse Ipag\\Order;\r\nuse Ipag\\Payment;\r\nuse Ipag\\Transaction;\r\n\r\n$ipag = new Ipag('seu_id_ipag', Ipag::TEST);\r\n\r\n$order = $ipag->order(Order::OPERATION_CAPTURE, 'http://minhaurl.dev');\r\n\r\n$tx = $ipag->transaction($order);\r\n//Para capturar é necessário ter um TID\r\n$tx->setTid('100699306900087B7BDA');\r\n\r\n$response = $ipag->captureRequest($tx);\r\n\r\nif (!$response->hasError()) {\r\n    var_dump(print_r($response, true));\r\n    exit;\r\n}\r\necho $response->getErrorMessage();\r\nexit;\r\n```\r\n## EXEMPLO DE CANCELAMENTO DE TRANSAÇÃO (Cancel Request)\r\n\r\n```php\r\n<?php\r\n\r\nrequire 'vendor/autoload.php';\r\n\r\nuse Ipag\\Ipag;\r\nuse Ipag\\Order;\r\nuse Ipag\\Payment;\r\nuse Ipag\\Transaction;\r\n\r\n$ipag = new Ipag('seu_id_ipag', Ipag::TEST);\r\n\r\n$order = $ipag->order(Order::OPERATION_CANCEL, 'http://minhaurl.dev');\r\n\r\n$tx = $ipag->transaction($order);\r\n//Para cancelar é necessário informar o TID\r\n$tx->setTid('100699306900087B7BDA');\r\n\r\n$response = $ipag->cancelRequest($tx);\r\n\r\nif (!$response->hasError()) {\r\n    var_dump(print_r($response, true));\r\n    exit;\r\n}\r\necho $response->getErrorMessage();\r\nexit;\r\n```\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}